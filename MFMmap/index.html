<!DOCTYPE html>
<html>
<head>
	<title>MFM Map</title>
	<!-- External Stylesheets -->
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
  <style type="text/css">
        body { padding: 0; margin: 0;   }
        html,    body,   #murder-map {height: 100%;	}
    </style>
	
	<!-- Links to GeoJSON data we'll use in the map. -->
  <link rel="location" href="kemper2.geojson" type="application/json"/>
</head>
<body>
	<!-- Our web map and content will go here -->
	<div id="murder-map"></div>
	<!-- Add the Leaflet JavaScript library -->
	<script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
  <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script>
    	// Create variable to hold map element, give initial settings to map
    	//var map = L.map('map',{ center: [38.18, -121.01], zoom: 9});
    	// Add OpenStreetMap tile layer to map element
	    var murderTiles = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', 
      { attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>' }).addTo(map);
	     // load geoJSON
			 $.getJSON($('link[rel="location"]').attr("href"), function(data) {
    	var geojson = L.geoJson(data, {
      	onEachFeature: function (feature, layer) {
        	layer.bindPopup(feature.properties.Episode);
      	}
    	});
    var map = L.map('murder-map').fitBounds(geojson.getBounds());
    murderTiles.addTo(map);
    geojson.addTo(map);
  });
	      
</script>
</body>
</html>
